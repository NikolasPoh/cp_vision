"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[46],{9046:function(a,i,e){e.r(i),e.d(i,{default:function(){return q}});var n=e(3396),s=e(7139);const _={class:"container-fluid"},d={class:"companyPageMain row"},c={class:"col-12 col-md-4"},o={class:"companyPageInfo"},r={class:"form-group"},t=(0,n._)("label",{class:"boldText"},"О компании",-1),l={class:"companyPageDescription"},p={class:"form-group"},m=(0,n._)("label",{class:"boldText"},"Сайт",-1),h=(0,n._)("br",null,null,-1),y=["href"],u={class:"form-group"},v=(0,n._)("label",{class:"boldText"},"GROBAL_ID",-1),g={class:"companyPageDescription"},b={class:"col-12 col-md-8"},k={class:"companyPageMatch"},f={class:"matchHead"},C=(0,n._)("h3",null,"Данные о компании",-1),w={key:0,class:"notifWarn"},D={class:"form-group"},$=["href"],x=(0,n.uE)('<div class="matchTitles row"><div class="col-3">Исходные данные</div><div class="col-3">Найденные несоответствия</div><div class="col-3">Данные с парсера (Бета)</div><div class="col-3">Статус</div></div>',1),F={class:"matchMistake"},P=(0,n._)("div",null,[(0,n._)("button",{class:"btnSecondary"},"Заменить все исходные данные на найденные")],-1),T={class:"companyProducts"},W=(0,n._)("div",{class:"matchHead"},[(0,n._)("h3",null,"Продукты компании")],-1);function z(a,i,e,z,M,I){const V=(0,n.up)("VisitorCompanyMatchItem"),q=(0,n.up)("VisitorCompanyCard");return(0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",d,[(0,n._)("div",c,[(0,n._)("div",o,[(0,n._)("h3",null,(0,s.zw)(M.company.name),1),(0,n._)("div",r,[t,(0,n._)("p",l,(0,s.zw)(M.company.description),1)]),(0,n._)("div",p,[m,h,(0,n._)("a",{href:M.company.site},(0,s.zw)(M.company.site),9,y)]),(0,n._)("div",u,[v,(0,n._)("p",g,(0,s.zw)(M.company.id),1)])])]),(0,n._)("div",b,[(0,n._)("div",k,[(0,n._)("div",f,[C,M.company.id_rek_sub_ind.length||M.company.id_rek_tech_3.length?((0,n.wg)(),(0,n.iD)("div",w,"Исправьте несоответствия")):(0,n.kq)("",!0)]),(0,n._)("div",D,[(0,n._)("p",null,[(0,n.Uk)("Источник парсинга -"),(0,n._)("a",{href:M.company.site},(0,s.zw)(M.company.site),9,$)])]),x,(0,n._)("div",F,[(0,n.Wm)(V,{onChangeData:i[0]||(i[0]=a=>I.$_vision_company_index_savedChanges(a,"id_ind")),field:M.company.id_ind,rekField:M.company.id_rek_sub_ind[0],parser:M.company.id_parser_sub_ind[0],name:"Отрасль"},null,8,["field","rekField","parser"]),(0,n.Wm)(V,{onChangeData:i[1]||(i[1]=a=>I.$_vision_company_index_savedChanges(a,"id_sub_ind")),field:M.company.id_sub_ind,rekField:M.company.id_rek_sub_ind[1],parser:M.company.id_parser_sub_ind[1],name:"Подотрасль"},null,8,["field","rekField","parser"]),(0,n.Wm)(V,{onChangeData:i[2]||(i[2]=a=>I.$_vision_company_index_savedChanges("id_tech_1")),field:M.company.id_tech_1,rekField:M.company.id_rek_tech_3[0],parser:M.company.id_parser_tech_3[0],name:"Технология (1 уровень)"},null,8,["field","rekField","parser"]),(0,n.Wm)(V,{onChangeData:I.$_vision_company_index_savedChanges,field:M.company.id_tech_2,rekField:M.company.id_rek_tech_3[1],parser:M.company.id_parser_tech_3[1],name:"Технология (2 уровень)"},null,8,["onChangeData","field","rekField","parser"]),(0,n.Wm)(V,{onChangeData:I.$_vision_company_index_savedChanges,field:M.company.id_tech_3,rekField:M.company.id_rek_tech_3[2],parser:M.company.id_parser_tech_3[2],name:"Технология (3 уровень)"},null,8,["onChangeData","field","rekField","parser"])])]),P,(0,n._)("div",T,[W,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(M.products,(a=>((0,n.wg)(),(0,n.j4)(q,{company:a},null,8,["company"])))),256))])])])])}var M={data(){return{company:{id_rek_sub_ind:[],id_parser_sub_ind:[],id_parser_tech_3:[]},products:[]}},created(){this.$_vision_company_index_loadCompany()},components:{VisitorCompanyMatchItem:(0,n.RC)((()=>e.e(507).then(e.bind(e,1585)))),VisitorCompanyCard:(0,n.RC)((()=>e.e(229).then(e.bind(e,968))))},methods:{async $_vision_company_index_savedChanges(a,i){this.company[i]=a,console.log(a,i);const e=this.company.id_parser_tech_3.length?this.company.id_parser_tech_3[2].id:null,n=this.company.id_parser_sub_ind.length?this.company.id_parser_sub_ind[1].id:null,s={id_ind:this.company.id_ind.id,id_sub_ind:this.company.id_sub_ind.id,id_tech_1:this.company.id_tech_1.id,id_tech_2:this.company.id_tech_2.id,id_tech_3:this.company.id_tech_3.id,id_rek_sub_ind:null,id_rek_tech_3:null,id_parser_sub_ind:n,id_parser_tech_3:e};await this.$store.getters.request("PUT","company/"+this.$route.params.id,s)},async $_vision_company_index_loadCompany(){const a=await this.$store.getters.request("GET","company/"+this.$route.params.id,{});a.err||(console.log(a),this.company=a.company,this.products=a.products)}}},I=e(89);const V=(0,I.Z)(M,[["render",z]]);var q=V}}]);
//# sourceMappingURL=46.ef08f6eb.js.map